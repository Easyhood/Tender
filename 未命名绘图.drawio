<mxfile host="app.diagrams.net" modified="2021-11-18T07:46:46.618Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36" etag="ADbdTz6Ze8SPjxD2rsbF" version="15.7.4" type="github">
  <diagram name="RILD流程图" id="efa7a0a1-bf9b-a30e-e6df-94a7791c09e9">
    <mxGraphModel dx="3255" dy="839" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="29" target="EKuOJ4cv29JxxuzC1nA7-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="29" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;rild.c的main方法&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;设置服务名 clientId&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;设置lib库地址 rilLibPath&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;链接lib库&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="720" y="70" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-29" target="EKuOJ4cv29JxxuzC1nA7-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-29" target="EKuOJ4cv29JxxuzC1nA7-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-29" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;开启event_loop循环&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;RIL_startEventLoop()&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="720" y="230" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-31" target="EKuOJ4cv29JxxuzC1nA7-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-31" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;寻找RIL_Init函数地址&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;rilInit =&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;(const RIL_Radio&lt;span&gt;Functions&amp;nbsp;&lt;/span&gt;&lt;span&gt;*(*)(const&amp;nbsp;&lt;/span&gt;&lt;span&gt;struct RIL_Env *,&amp;nbsp;&lt;/span&gt;&lt;span&gt;int, char **))&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp;&lt;span&gt;dlsym&lt;/span&gt;&lt;span&gt;(dlHandle, &quot;RIL_Init&quot;);&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="615" y="360" width="370" height="90" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-33" target="EKuOJ4cv29JxxuzC1nA7-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="EKuOJ4cv29JxxuzC1nA7-33" target="WiDxoxZlmCFufiCdWleU-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="615" y="415" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="570" y="540" />
              <mxPoint x="570" y="405" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-33" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;调用Ril_init方法并获取回调函数&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;funcs = rilInit(&amp;amp;s_rilEnv, argc, rilArgv);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="700" y="510" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="EKuOJ4cv29JxxuzC1nA7-35" target="WiDxoxZlmCFufiCdWleU-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-35" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;注册得到的reference的回调函数&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;RIL_register(funcs)&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//通过注册服务获取&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;radio::registerService(&amp;amp;s_callbacks, s_commands);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="650" y="650" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-37" target="EKuOJ4cv29JxxuzC1nA7-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-37" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;eventLoop&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;位置在/hardware/ril/libril/ril.cpp&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;使用RIL_startEventLoop(void)&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1190" y="250" width="175" height="70" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="EKuOJ4cv29JxxuzC1nA7-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1281" y="430" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-41" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;创建线程并运行eventLoop&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;int result = pthread_create(&amp;amp;s_tid_dispatch, &amp;amp;attr, eventLoop, NULL);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;eventLoop(void *param)；&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1130" y="370" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-43" target="EKuOJ4cv29JxxuzC1nA7-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-43" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;创建event&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ril_event_set (&amp;amp;s_wakeupfd_event,&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;s_fdWakeupRead, true,&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; processWakeupCallback, NULL);&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1200" y="510" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-45" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="430" as="sourcePoint" />
            <mxPoint x="1140" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-46" target="EKuOJ4cv29JxxuzC1nA7-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-46" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;event初始化&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ril_event_init()&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1100" y="520" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-49" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;初始化文件句柄和列表&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;MUTEX_INIT();&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;FD_ZERO(&amp;amp;readFds);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;init_list(&amp;amp;timer_list);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;init_list(&amp;amp;pending_list);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;memset(watch_table, 0, sizeof(watch_table));&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="989" y="630" width="250" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-51" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;加入到队列中唤醒&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;rilEventAddWakeup&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;(&amp;amp;s_wakeupfd_event);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1275" y="650" width="130" height="70" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-61" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1500" y="430" as="sourcePoint" />
            <mxPoint x="1500" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-62" target="EKuOJ4cv29JxxuzC1nA7-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-62" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;开启event循环&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ril_event_loop();&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1460" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="EKuOJ4cv29JxxuzC1nA7-66" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1550" y="600" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1550" y="583" />
              <mxPoint x="1550" y="620" />
              <mxPoint x="1590" y="620" />
              <mxPoint x="1590" y="795" />
              <mxPoint x="1280" y="795" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-64" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;select&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;通过一个多路复用&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;I/O的机制（select）&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;来等待这些fd&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1460" y="650" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-66" target="EKuOJ4cv29JxxuzC1nA7-68" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1200" y="970" />
              <mxPoint x="1100" y="970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-66" target="EKuOJ4cv29JxxuzC1nA7-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-66" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;主要循环调用三个方法&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;processTimeouts();&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;processReadReadies(&amp;amp;rfds, n);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;firePending();&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1190" y="820" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-68" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;processTimeouts()&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;处理timer_list列表&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;如果timer_list中的事件超时&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;则从timer_list列表中移除&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;removeFromList(tev);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;并添加到pending_list中&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;addToList(tev, &amp;amp;pending_list);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="970" y="990" width="170" height="120" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-72" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;processReadReadies(&amp;amp;rfds, n);&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;处理watch_table列表&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;添加到pending_list中&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;addToList(rev, &amp;amp;pending_list);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;设置persist为false后从watch_table中移除&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;removeWatch(rev, i);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1165" y="1000" width="230" height="110" as="geometry" />
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="EKuOJ4cv29JxxuzC1nA7-66" target="EKuOJ4cv29JxxuzC1nA7-75" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1340" y="960" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1325" y="970" />
              <mxPoint x="1540" y="970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EKuOJ4cv29JxxuzC1nA7-75" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;firePending()&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;从pending_list中移除&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;removeFromList(ev);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;调用ev-&amp;gt;func处理事件&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ev-&amp;gt;func(ev-&amp;gt;fd, 0, ev-&amp;gt;param);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" parent="1" vertex="1">
          <mxGeometry x="1460" y="1000" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-31" target="WiDxoxZlmCFufiCdWleU-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-31" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;mainLoop&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;加载链接库加载reference文件&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;hardware/ril/reference-ril/reference-ril.c&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;开启线程处理mainLoop&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ret = pthread_create(&amp;amp;s_tid_mainloop,&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;amp;attr, mainLoop, NULL);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;把ril的回调函数返回出来&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;return &amp;amp;s_callbacks;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="270" y="340" width="260" height="130" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-35" target="WiDxoxZlmCFufiCdWleU-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-35" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;启动mainLoop&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//初始化AT通道的关闭方法和超时方法&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp;at_set_on_reader_closed(onATReaderClosed);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;span&gt;&amp;nbsp;at_set_on_timeout(onATTimeout);&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//控制关闭&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp;s_closed = 0;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//打开AT通道&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ret = at_open(fd, onUnsolicited);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//等待阻塞&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;waitForClose();&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="270" y="520" width="270" height="160" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-38" target="WiDxoxZlmCFufiCdWleU-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-38" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;at_open(int fd, ATUnsolHandler h)&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;/reference-ril/atchannel.c&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//调用readloop&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;ret = pthread_create(&amp;amp;s_tid_reader,&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;amp;attr, readerLoop, &amp;amp;attr);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="270" y="760" width="270" height="90" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-40" target="WiDxoxZlmCFufiCdWleU-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-40" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;readLoop&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;/reference-ril/atchannel.c&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//读取数据&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;line1 = strdup(line);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;line2 = readline();&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//unsolHandler处理--&amp;gt;处理主动上报的消息，&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//URC消息可以直接发送给RILJ&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;s_unsolHandler (line1, line2);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//处理主动请求的消息&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;processLine(line);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//关闭读&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;onReaderClosed();&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="-90" y="680" width="240" height="190" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-42" target="WiDxoxZlmCFufiCdWleU-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-42" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;processLine(line)&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp;//判断是否已经把所有有效数据传输完毕&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;if (isFinalResponseSuccess(line))&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //回复消息给上层&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;handleFinalResponse(line);&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//将数据放到反馈数据中&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&amp;nbsp; addIntermediate(line);&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="-50" y="950" width="230" height="130" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-44" value="&lt;p style=&quot;text-align: left ; margin: 4px 0px 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt; handleFinalResponse&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//非URC消息处理到最后会调用此方法&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//把回应消息返回给eventLoop&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;sp_response-&amp;gt;finalResponse = strdup(line);&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//发信号给s_commandcond线程，使其脱离阻塞状态&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;pthread_cond_signal(&amp;amp;s_commandcond);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="-50" y="1160" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-46" target="WiDxoxZlmCFufiCdWleU-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-46" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;注册ril_service服务&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;RIL_register(funcs)&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//通过注册服务获取&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;radio::registerService(&amp;amp;s_callbacks, s_commands);&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="650" y="810" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-48" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b&gt;&lt;u&gt;registerService(&lt;/u&gt;&lt;/b&gt;&lt;span&gt;&lt;b&gt;&lt;u&gt;*callbacks,&lt;/u&gt;&lt;/b&gt;&lt;/span&gt;&lt;span&gt;&lt;b&gt;&lt;u&gt;*commands&lt;/u&gt;&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;u&gt;)&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;span&gt;//拿到sim卡数量以及服务名&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;span&gt;simCount = SIM_COUNT&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;android::RIL_getServiceName()&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;//并在注册服务时传入callbanck与commands&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 8px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;strokeColor=#003366;shadow=1;fillColor=#D4E1F5;fontColor=#003366" vertex="1" parent="1">
          <mxGeometry x="650" y="950" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-52" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1.007;exitY=0.61;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.004;entryY=0.611;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-44" target="WiDxoxZlmCFufiCdWleU-48">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="1180" as="sourcePoint" />
            <mxPoint x="590" y="1130" as="targetPoint" />
            <Array as="points">
              <mxPoint x="520" y="1200" />
              <mxPoint x="290" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-53" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.37;entryY=1.027;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="WiDxoxZlmCFufiCdWleU-48" target="EKuOJ4cv29JxxuzC1nA7-72">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="850" y="980" as="sourcePoint" />
            <mxPoint x="1080" y="1320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="930" y="1070" />
              <mxPoint x="980" y="1150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-54" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EKuOJ4cv29JxxuzC1nA7-51" target="EKuOJ4cv29JxxuzC1nA7-72">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1060" y="780" as="sourcePoint" />
            <mxPoint x="1110" y="730" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1330" y="750" />
              <mxPoint x="1320" y="770" />
              <mxPoint x="1270" y="750" />
              <mxPoint x="1170" y="760" />
              <mxPoint x="1110" y="850" />
              <mxPoint x="1200" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WiDxoxZlmCFufiCdWleU-55" value="" style="endArrow=none;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="EKuOJ4cv29JxxuzC1nA7-66" target="EKuOJ4cv29JxxuzC1nA7-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1480" y="800" as="sourcePoint" />
            <mxPoint x="1530" y="750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1280" y="770" />
              <mxPoint x="1515" y="770" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
